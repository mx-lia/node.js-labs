<!DOCTYPE html>
<html>
  <head></head>
  <body>
    <h1>WASM</h1>
    <p>sum(5, 10) = <span id="rsum"></span></p>
    <p>mul(5, 4) = <span id="rmul"></span></p>
    <p>sub(9, 7) = <span id="rsub"></span></p>

    <script>
      (async () => {
        const res = fetch("http://localhost:3000/p.wasm");
        const { module, instance } = await WebAssembly.instantiateStreaming(
          res
        );
        rsum.innerHTML = instance.exports.sum(5, 10);
        rmul.innerHTML = instance.exports.mul(5, 4);
        rsub.innerHTML = instance.exports.sub(9, 7);
      })();
    </script>
  </body>
</html>
